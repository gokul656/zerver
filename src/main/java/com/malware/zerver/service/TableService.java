package com.malware.zerver.service;

import com.malware.zerver.model.Foods;
import com.malware.zerver.model.TableOrder;
import com.malware.zerver.repository.TableRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.*;

@Service
public class TableService {

    @Autowired
    TableRepository tableRepository;

    public void resetTable(String tableId){
        tableRepository.deleteOrderByTableId(tableId);
    }

    public TableOrder findFid(String tableId, String productId){
        TableOrder order = tableRepository.findByTableAndProduct(tableId, productId);
        if(order == null){
            System.out.println("FID Not Found!");
            return null;
        }
        else {
            return order;
        }
    }

    public void saveData(TableOrder data){
        tableRepository.saveAndFlush(data);
    }

    public TableOrder findOrder(Integer fid){
        return tableRepository.findTableOrderById(fid);
    }

    public HashSet<String> getAllTable(){
        return tableRepository.findAllTables();
    }
}
